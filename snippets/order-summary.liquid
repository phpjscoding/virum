<section class="lg:col-span-4" aria-labelledby="summary-heading">
  <div class="bg-gray-50 p-8 sticky top-8">
    <h2 class="text-xl font-medium mb-8 pb-4 border-b border-black/10" id="summary-heading">Order Summary</h2>

    <!-- Coupon Code -->
    <div class="mb-8">
      <label for="coupon-code" class="sr-only">Coupon code</label>
      <div class="flex gap-2">
        <input
          id="coupon-code"
          placeholder="Coupon code"
          class="flex-1 border border-black p-3 text-sm focus:outline-none focus:ring-2 focus:ring-black bg-white"
          type="text"
          value=""
          aria-label="Enter coupon code"
        >
        <button
          class="px-6 py-3 border border-black text-xs uppercase tracking-widest hover:bg-black hover:text-white focus:bg-black focus:text-white focus:outline-none focus:ring-2 focus:ring-black transition-all"
          aria-label="Apply coupon code"
        >
          Apply
        </button>
      </div>
    </div>

    <!-- Price Breakdown -->
    <dl class="space-y-4 mb-8">
      <div class="flex justify-between text-sm">
        <dt class="text-gray-500">Subtotal</dt>
        <dd class="font-medium">
          {{ cart.items_sutotal_price | money }}
        </dd>
      </div>
      <div class="flex justify-between text-sm">
        <dt class="text-gray-500">Shipping</dt>
        <dd class="text-gray-400 italic">Calculated at checkout</dd>
      </div>
      <div class="flex justify-between text-sm">
        <dt class="text-gray-500">Taxes</dt>
        <dd class="text-gray-400 italic">Calculated at checkout</dd>
      </div>
      <div class="pt-4 border-t border-black/10 flex justify-between items-baseline">
        <dt class="text-lg font-medium">Total</dt>
        <dd class="text-2xl font-bold" aria-label="Total amount: $80.00">
          {{ cart.total_price | money }}
        </dd>
      </div>
    </dl>

    <!-- Checkout Button -->
    <button
      class="w-full bg-black text-white py-4 uppercase tracking-[0.2em] text-sm font-medium hover:bg-gray-800 focus:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 transition-colors flex items-center justify-center gap-3 group"
      aria-label="Proceed to checkout"
      type="submit"
      name="checkout"
      form="{{  cart.id }}"
    >
      Check out
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-arrow-right group-hover:translate-x-1 group-focus:translate-x-1 transition-transform"
        aria-hidden="true"
        focusable="false"
      >
        <path d="M5 12h14"></path>
        <path d="m12 5 7 7-7 7"></path>
      </svg>
    </button>

    <p class="text-[11px] text-center text-gray-400 mt-4 uppercase tracking-wider" aria-live="polite">
      Shipping & taxes calculated at checkout
    </p>

    <!-- Trust Badges -->
    <div class="mt-12 pt-8 border-t border-black/10">
      <h3 class="sr-only">Payment and security information</h3>

      <div class="flex justify-center gap-4 opacity-30 grayscale mb-6" aria-hidden="true">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-credit-card"
          aria-hidden="true"
        >
          <rect width="20" height="14" x="2" y="5" rx="2"></rect>
          <line x1="2" x2="22" y1="10" y2="10"></line>
        </svg>
        <div class="w-8 h-5 bg-gray-400 rounded-sm" aria-label="Visa"></div>
        <div class="w-8 h-5 bg-gray-400 rounded-sm" aria-label="Mastercard"></div>
        <div class="w-8 h-5 bg-gray-400 rounded-sm" aria-label="American Express"></div>
      </div>

      <ul class="space-y-4">
        <li>
          <div class="flex items-center gap-3 text-[11px] uppercase tracking-widest text-gray-500">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-shield-check text-black"
              aria-hidden="true"
              focusable="false"
            >
              <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"></path>
              <path d="m9 12 2 2 4-4"></path>
            </svg>
            <span>Secure checkout guaranteed</span>
          </div>
        </li>
        <li>
          <div class="flex items-center gap-3 text-[11px] uppercase tracking-widest text-gray-500">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-rotate-ccw text-black"
              aria-hidden="true"
              focusable="false"
            >
              <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
              <path d="M3 3v5h5"></path>
            </svg>
            <span>Free 30-day returns</span>
          </div>
        </li>
        <li>
          <div class="flex items-center gap-3 text-[11px] uppercase tracking-widest text-gray-500">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-lock text-black"
              aria-hidden="true"
              focusable="false"
            >
              <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
            <span>SSL Encrypted Payment</span>
          </div>
        </li>
      </ul>
    </div>
  </div>
</section>
