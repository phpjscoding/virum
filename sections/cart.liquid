<form action="{{ routes.cart_url }}" method="post">
  {% for item in cart.items %}
    <div class="cart-line">
      <!-- Product/variant name -->
      <div class="cart-line__info">
        <a href="{{ item.url }}">{{ item.product.title }}</a>
        {% if item.variant.title != 'Default Title' %}
          <div class="cart-line__variant">{{ item.variant.title }}</div>
        {% endif %}
      </div>

      <!-- Unit price -->
      <div class="cart-line__unit-price">
        {{ item.final_price | money }}
      </div>

      <!-- Quantity control -->
      <div class="cart-line__quantity">
        <input
          type="number"
          name="updates[{{ item.key }}]"
          value="{{ item.quantity }}"
          min="0"
        >
      </div>

      <!-- Line total (unit price * quantity) -->
      <div class="cart-line__total">
        {{ item.final_line_price | money }}
      </div>

      <!-- Remove link -->
      <div class="cart-line__remove">
        <a href="{{ item.url_to_remove }}">Remove</a>
      </div>
    </div>
  {% endfor %}

  {%- comment -%}
    Subtotal (items only)
  {%- endcomment -%}
  {% assign items_subtotal = 0 %}
  {% for item in cart.items %}
    {% assign items_subtotal = items_subtotal | plus: item.final_line_price %}
  {% endfor %}

  <div class="cart-summary">
    <div class="cart-summary__row">
      <span>Subtotal</span>
      <span>{{ items_subtotal | money }}</span>
    </div>

    <div class="cart-summary__row cart-summary__row--total">
      <span>Total</span>
      <span>{{ cart.total_price | money }}</span>
    </div>

    <p class="cart-summary__note">
      Taxes and shipping calculated at checkout.
    </p>

    <!-- Proceed to checkout -->
    <button type="submit" name="checkout" class="cart-summary__checkout-button">
      Checkout
    </button>
  </div>
</form>